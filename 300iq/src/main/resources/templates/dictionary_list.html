<!DOCTYPE html>
<html lang="ko" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>ë¶€ë™ì‚° ìš©ì–´ì‚¬ì „</title>
    
    <style>
        /* 'ã„±','ã„´','ã„·' íƒ­ ìŠ¤íƒ€ì¼ (ë‹¤í¬ ëª¨ë“œ) */
        .dic_button_dl {
            display: flex; flex-wrap: wrap;
            gap: 5px; padding: 10px;
            background-color: #2a2a2a; /* íƒ­ ë°°ê²½ */
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .dic_button_dl a {
            flex-grow: 1; text-align: center;
            padding: 8px 5px;
            background-color: #333;
            color: #aaa;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            border: 1px solid #444;
        }
        .dic_button_dl a:hover {
            background-color: #444; color: #fff;
        }
        /* í˜„ì¬ ì„ íƒëœ íƒ­ */
        .dic_button_dl a.active {
            background-color: #54c700; /* layout.htmlì˜ primary color */
            color: #121212;
            border-color: #54c700;
        }
        
        /* ìš©ì–´ ëª©ë¡ ìŠ¤íƒ€ì¼ (ë‹¤í¬ ëª¨ë“œ) */
        .term-list-group {
            margin-top: 20px;
        }
        .term-item {
            background-color: #1e1e1e;
            border: 1px solid #333;
            margin-bottom: -1px; /* í…Œë‘ë¦¬ ê²¹ì¹¨ */
            padding: 1rem 1.25rem;
        }
        .term-item:first-child { border-top-left-radius: .25rem; border-top-right-radius: .25rem; }
        .term-item:last-child { margin-bottom: 0; border-bottom-left-radius: .25rem; border-bottom-right-radius: .25rem; }

        .term-item dt {
            font-size: 1.2rem;
            font-weight: 600;
            color: #54c700; /* Primary color */
            margin-bottom: 0.5rem;
        }
        .term-item dd {
            color: #ddd;
            margin-left: 0;
            line-height: 1.6;
        }
    </style>
</head>
<body>

<div layout:fragment="content"> 
    
    <div th:replace="~{fragments/sidebar :: sidebar(activeMenu='dictionary')}"></div>
    
    <div class="right-content">
        
        <h2 class="border-bottom pb-2 mb-4">ğŸ“š ë¶€ë™ì‚° ìš©ì–´ì‚¬ì „</h2>

        <form th:action="@{/dictionary/list}" method="get" class="mb-4">
            <input type="hidden" name="part" th:value="${part}">
            <div class="input-group">
                <select name="searchType" class="form-select" style="max-width: 100px;">
                    <option value="term" th:selected="${searchType == 'term'}">ìš©ì–´</option>
                    <option value="content" th:selected="${searchType == 'content'}">ì„¤ëª…</option>
                </select>
                <input type="text" name="kw" class="form-control" th:value="${kw}" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                <button class="btn btn-primary" type="submit">ê²€ìƒ‰</button>
            </div>
        </form>

        <div class="dic_button_dl">
            <a th:href="@{/dictionary/list(part='ì „ì²´')}" th:classappend="${part == 'ì „ì²´'} ? 'active'">ì „ì²´</a>
            <a th:href="@{/dictionary/list(part='ã„±')}" th:classappend="${part == 'ã„±'} ? 'active'">ã„±</a>
            <a th:href="@{/dictionary/list(part='ã„´')}" th:classappend="${part == 'ã„´'} ? 'active'">ã„´</a>
            <a th:href="@{/dictionary/list(part='ã„·')}" th:classappend="${part == 'ã„·'} ? 'active'">ã„·</a>
            <a th:href="@{/dictionary/list(part='ã„¹')}" th:classappend="${part == 'ã„¹'} ? 'active'">ã„¹</a>
            <a th:href="@{/dictionary/list(part='ã…')}" th:classappend="${part == 'ã…'} ? 'active'">ã…</a>
            <a th:href="@{/dictionary/list(part='ã…‚')}" th:classappend="${part == 'ã…‚'} ? 'active'">ã…‚</a>
            <a th:href="@{/dictionary/list(part='ã……')}" th:classappend="${part == 'ã……'} ? 'active'">ã……</a>
            <a th:href="@{/dictionary/list(part='ã…‡')}" th:classappend="${part == 'ã…‡'} ? 'active'">ã…‡</a>
            <a th:href="@{/dictionary/list(part='ã…ˆ')}" th:classappend="${part == 'ã…ˆ'} ? 'active'">ã…ˆ</a>
            <a th:href="@{/dictionary/list(part='ã…Š')}" th:classappend="${part == 'ã…Š'} ? 'active'">ã…Š</a>
            <a th:href="@{/dictionary/list(part='ã…‹')}" th:classappend="${part == 'ã…‹'} ? 'active'">ã…‹</a>
            <a th:href="@{/dictionary/list(part='ã…Œ')}" th:classappend="${part == 'ã…Œ'} ? 'active'">ã…Œ</a>
            <a th:href="@{/dictionary/list(part='ã…')}" th:classappend="${part == 'ã…'} ? 'active'">ã…</a>
            <a th:href="@{/dictionary/list(part='ã…')}" th:classappend="${part == 'ã…'} ? 'active'">ã…</a>
            <a th:href="@{/dictionary/list(part='A-Z')}" th:classappend="${part == 'A-Z'} ? 'active'">A-Z</a>
        </div>

        <div class="term-list-group">
            <div th:if="${paging.isEmpty()}" class="alert alert-info" role="alert">
                ì¡°íšŒëœ ìš©ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
            
            <dl th:unless="${paging.isEmpty()}" th:each="term : ${paging}" class="term-item">
                <dt th:text="${term.term}">ê°€ê±´ë¬¼</dt>
                <dd th:text="${term.definition}">ì„¤ëª…...</dd>
            </dl>
        </div>

        <nav th:if="${!paging.isEmpty()}"
             th:with="currentPart=${part}, currentKw=${kw != null ? kw : ''}, currentSearchType=${searchType}"
             aria-label="Page navigation" class="d-flex justify-content-center mt-4">
            
            <ul class="pagination">
                <li class="page-item" th:classappend="${paging.first} ? 'disabled'">
                    <a class="page-link" 
                       th:href="@{|/dictionary/list?part=${currentPart}&page=${paging.number - 1}&kw=${currentKw}&searchType=${currentSearchType}|}">
                        <span>&laquo;</span>
                    </a>
                </li>
                
                <li th:each="pageNumber : ${#numbers.sequence(paging.number - 5 < 0 ? 0 : paging.number - 5, paging.number + 4 >= paging.totalPages ? paging.totalPages - 1 : paging.number + 4)}"
                    class="page-item" th:classappend="${pageNumber == paging.number} ? 'active'">
                    <a th:text="${pageNumber + 1}" class="page-link"
                       th:href="@{|/dictionary/list?part=${currentPart}&page=${pageNumber}&kw=${currentKw}&searchType=${currentSearchType}|}"></a>
                </li>
                
                <li class="page-item" th:classappend="${paging.last} ? 'disabled'">
                    <a class="page-link"
                       th:href="@{|/dictionary/list?part=${currentPart}&page=${paging.number + 1}&kw=${currentKw}&searchType=${currentSearchType}|}">
                        <span>&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
        
    </div> 
</div> 

</body>
</html>